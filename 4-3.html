<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èªè­˜ Thetaï¼šæ™‚é–“è¡°æ¸› | æ­å¤§é¸æ“‡æ¬Šæ•™å®¤ JOPTION</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* æ™®åˆ©é¢¨å¡é€šé¢¨æ ¼è‡ªè¨‚ CSS */
        :root {
            --c-bg: #FFF5E1;
            --c-main: #FF8A5B;
            --c-accent: #FFC947;
            --c-dark: #5C4033;
            --c-green: #A8E6CF;
            --c-red: #FFB7B2;
        }
        body {
            font-family: 'Nunito', 'Noto Sans TC', sans-serif;
            background-color: var(--c-bg);
            color: var(--c-dark);
            /* é»é»èƒŒæ™¯å¢åŠ æ‰‹å·¥æ¯›æ°ˆæ„Ÿ */
            background-image: radial-gradient(#FFC947 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        .cartoon-border {
            border: 4px solid var(--c-dark);
            border-radius: 1.5rem;
        }
        
        .cartoon-shadow {
            box-shadow: 6px 6px 0px var(--c-accent);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .cartoon-shadow:hover {
            transform: translate(-2px, -2px);
            box-shadow: 8px 8px 0px var(--c-accent);
        }

        .cartoon-shadow-main {
            box-shadow: 6px 6px 0px var(--c-main);
        }

        /* äº’å‹•æ‹‰æ¡¿æ¨£å¼ */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 36px;
            width: 36px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            margin-top: -12px;
            border: 4px solid var(--c-dark);
            box-shadow: 0 4px 0 var(--c-main);
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23FF8A5B"><circle cx="12" cy="12" r="6"/></svg>');
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 12px;
            cursor: pointer;
            background: var(--c-accent);
            border-radius: 10px;
            border: 3px solid var(--c-dark);
        }

        .bounce-anim {
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4 md:p-8">

    <!-- å°è¦½åˆ— / å“ç‰Œæ¨™é ­ -->
    <header class="w-full max-w-4xl bg-white cartoon-border cartoon-shadow p-4 mb-8 flex justify-center items-center relative z-10">
        <div class="flex items-center gap-3">
            <div class="text-4xl">ğŸ¹</div>
            <div>
                <h1 class="text-2xl font-black text-[#5C4033] tracking-wider">æ­å¤§é¸æ“‡æ¬Šæ•™å®¤</h1>
                <p class="text-sm font-bold text-[#FF8A5B]">JOPTION ACADEMY</p>
            </div>
        </div>
    </header>

    <!-- ä¸»è¦å…§å®¹å€ -->
    <main class="w-full max-w-4xl flex-grow flex flex-col gap-8">
        
        <!-- æ¨™é¡Œä»‹ç´¹å€ -->
        <section class="bg-white cartoon-border cartoon-shadow p-6 md:p-10 relative overflow-hidden">
            <div class="absolute top-[-20px] right-[-20px] text-8xl opacity-20 transform rotate-12">â°</div>
            <h2 class="text-3xl md:text-4xl font-black mb-4 text-[#FF8A5B] flex items-center gap-3">
                <span>ä»€éº¼æ˜¯ Theta (Î¸)ï¼Ÿ</span>
            </h2>
            <p class="text-lg md:text-xl font-bold leading-relaxed mb-4">
                å—¨ï¼åœ¨é¸æ“‡æ¬Šçš„ä¸–ç•Œè£¡ï¼Œæœ‰ä¸€éš»éš±å½¢çš„å°æ€ªç¸ï¼Œæˆ‘å€‘å«ç‰  <span class="text-[#FF8A5B] bg-[#FFF5E1] px-2 py-1 rounded-lg cartoon-border border-2">Theta</span>ã€‚
            </p>
            <p class="text-lg leading-relaxed font-semibold">
                Theta ä»£è¡¨çš„æ˜¯**ã€Œæ™‚é–“è¡°æ¸›ã€**ã€‚æƒ³åƒä½ è²·äº†ä¸€é¡†å†°æ·‡æ·‹ğŸ¦ï¼Œå¦‚æœä½ ä¸è¶•å¿«åƒæ‰ï¼Œå®ƒå°±æœƒéš¨è‘—æ™‚é–“æ…¢æ…¢èåŒ–ã€‚é¸æ“‡æ¬Šçš„ã€Œæ¬Šåˆ©é‡‘ã€å°±åƒé€™é¡†å†°æ·‡æ·‹ï¼Œåªè¦æ™‚é–“ä¸€å¤©ä¸€å¤©éå»ï¼Œå®ƒçš„åƒ¹å€¼å°±æœƒä¸æ–·æµå¤±ã€‚
            </p>
        </section>

        <!-- äº’å‹•åœ–è¡¨å€ (æ ¸å¿ƒäº®é») -->
        <section class="bg-[#A8E6CF] cartoon-border cartoon-shadow-main p-6 md:p-10 flex flex-col items-center text-center">
            <h3 class="text-2xl font-black mb-2 flex items-center gap-2">
                ğŸ® äº’å‹•é«”é©—ï¼šæ™‚é–“æ€ªç¸çš„é­”æ³•
            </h3>
            <p class="font-bold mb-6 text-[#5C4033]">
                è©¦è‘—æ‹–æ›³ä¸‹æ–¹çš„æ™‚é–“è»¸ï¼Œçœ‹çœ‹éš¨è‘—ã€Œåˆ°æœŸæ—¥ã€é€¼è¿‘ï¼Œé¸æ“‡æ¬Šçš„åƒ¹å€¼æœƒç™¼ç”Ÿä»€éº¼äº‹ï¼Ÿ
            </p>

            <!-- æ•¸æ“šé¡¯ç¤ºé¢æ¿ -->
            <div class="flex flex-wrap justify-center gap-4 mb-6 w-full">
                <div class="bg-white cartoon-border px-6 py-4 flex-1 min-w-[140px]">
                    <div class="text-sm font-bold text-gray-500">è·é›¢åˆ°æœŸæ—¥</div>
                    <div class="text-3xl font-black text-[#FF8A5B]" id="daysDisplay">14 å¤©</div>
                </div>
                <div class="bg-white cartoon-border px-6 py-4 flex-1 min-w-[140px]">
                    <div class="text-sm font-bold text-gray-500">é¸æ“‡æ¬Šåƒ¹å€¼ (å†°æ·‡æ·‹å¤§å°)</div>
                    <div class="text-3xl font-black text-[#5C4033]" id="valueDisplay">$100.0</div>
                </div>
                <div class="bg-white cartoon-border px-6 py-4 flex-1 min-w-[140px]">
                    <div class="text-sm font-bold text-gray-500">ä»Šæ—¥æµå¤± (Theta)</div>
                    <div class="text-3xl font-black text-red-500" id="thetaDisplay">-$3.7</div>
                </div>
            </div>

            <!-- å‹•æ…‹è¦–è¦ºåœ–ç¤º -->
            <div class="text-6xl mb-4 bounce-anim" id="visualIcon">ğŸ¦</div>

            <!-- æ™‚é–“è»¸æ‹‰æ¡¿ -->
            <div class="w-full max-w-2xl mb-8 relative">
                <input type="range" id="timeSlider" min="0" max="14" value="0">
                <div class="flex justify-between text-sm font-bold mt-2 text-[#5C4033]">
                    <span>è²·é€² (å‰© 14 å¤©)</span>
                    <span>åˆ°æœŸæ—¥ (å‰© 0 å¤©)</span>
                </div>
            </div>

            <!-- Canvas åœ–è¡¨ -->
            <div class="w-full max-w-2xl bg-white cartoon-border p-4 relative">
                <h4 class="font-black text-sm text-gray-400 absolute top-6 left-6">åƒ¹å€¼æ›²ç·š (éç·šæ€§è¡°æ¸›)</h4>
                <canvas id="decayChart" width="600" height="250" class="w-full h-auto"></canvas>
                <p class="text-sm font-bold mt-4 text-[#FF8A5B]">
                    ğŸ’¡ æ­å¤§ç­†è¨˜ï¼šæœ‰ç™¼ç¾å—ï¼Ÿæ™‚é–“æµå¤±çš„é€Ÿåº¦ä¸æ˜¯ç›´ç·šçš„ï¼<br>è¶Šé è¿‘åˆ°æœŸæ—¥ï¼ŒTheta æ€ªç¸åƒæ‰åƒ¹å€¼çš„é€Ÿåº¦æœƒã€Œè¶Šä¾†è¶Šå¿«ã€ï¼
                </p>
            </div>
        </section>

        <!-- è²·æ–¹èˆ‡è³£æ–¹çš„è¦–è§’ (é›™æ¬„) -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- è²·æ–¹è¦–è§’ -->
            <div class="bg-[#FFB7B2] cartoon-border cartoon-shadow p-6 flex flex-col items-center text-center">
                <div class="text-5xl mb-3">ğŸ’¦</div>
                <h3 class="text-2xl font-black mb-3">å°ã€Œè²·æ–¹ã€ä¾†èªª</h3>
                <h4 class="text-xl font-bold text-red-700 bg-white/50 px-3 py-1 rounded-full mb-4">æ™‚é–“æ˜¯æ•µäºº ğŸ‘¿</h4>
                <p class="font-bold text-[#5C4033] text-left">
                    ç•¶ä½ è²·é€²é¸æ“‡æ¬Šï¼ˆBuy Call / Buy Putï¼‰ï¼Œä½ å°±ä»˜å‡ºäº†æ¬Šåˆ©é‡‘ã€‚æ¯å¤©é†’ä¾†ï¼ŒTheta éƒ½æœƒç„¡æƒ…åœ°æ‰£æ‰ä½ çš„è³‡ç”¢åƒ¹å€¼ã€‚<br><br>
                    <strong>ç­–ç•¥ï¼š</strong>è²·æ–¹å¿…é ˆæœŸå¾…è¡Œæƒ…å‡ºç¾ã€Œå¤§æ³¢å‹•ã€ï¼Œè€Œä¸”è¦ã€Œå¿«ã€ï¼Œæ‰èƒ½æ‰“æ•—æ™‚é–“æ€ªç¸ï¼
                </p>
            </div>

            <!-- è³£æ–¹è¦–è§’ -->
            <div class="bg-[#FFC947] cartoon-border cartoon-shadow p-6 flex flex-col items-center text-center">
                <div class="text-5xl mb-3">ğŸ’°</div>
                <h3 class="text-2xl font-black mb-3">å°ã€Œè³£æ–¹ã€ä¾†èªª</h3>
                <h4 class="text-xl font-bold text-green-700 bg-white/50 px-3 py-1 rounded-full mb-4">æ™‚é–“æ˜¯æœ‹å‹ ğŸ¥°</h4>
                <p class="font-bold text-[#5C4033] text-left">
                    ç•¶ä½ è³£å‡ºé¸æ“‡æ¬Šï¼ˆSell Call / Sell Putï¼‰ï¼Œä½ æ˜¯å…ˆæ”¶èµ°åˆ¥äººçš„æ¬Šåˆ©é‡‘ã€‚åªè¦æ™‚é–“æµé€ï¼Œåˆ¥äººçš„å†°æ·‡æ·‹èåŒ–ï¼Œå°±è®Šæˆä½ çš„åˆ©æ½¤ï¼<br><br>
                    <strong>ç­–ç•¥ï¼š</strong>è³£æ–¹å–œæ­¡ã€Œå¹³éœç„¡æ³¢ã€çš„å¸‚å ´ã€‚åªè¦è¡Œæƒ…ç›¤æ•´ï¼Œæ¯å¤©èººè‘—è³ºå–æ™‚é–“åƒ¹å€¼ã€‚
                </p>
            </div>
        </section>

    </main>

    <!-- é å°¾ -->
    <footer class="w-full max-w-4xl mt-12 bg-white cartoon-border p-6 text-center font-bold text-[#5C4033]">
        <div class="text-3xl mb-2">ğŸ¹ğŸš—</div>
        <p class="text-lg">JOPTION | æ­å¤§é¸æ“‡æ¬Šæ•™å®¤</p>
        <p class="text-sm text-gray-500 mt-2">Â© 2026 Joption Academy - é‡‘èæ•™è‚²åƒ…ä¾›åƒè€ƒï¼ŒæŠ•è³‡æœ‰é¢¨éšªï¼Œæ“ä½œéœ€è¬¹æ…</p>
    </footer>

    <!-- äº’å‹•é‚è¼¯è…³æœ¬ -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slider = document.getElementById('timeSlider');
            const daysDisplay = document.getElementById('daysDisplay');
            const valueDisplay = document.getElementById('valueDisplay');
            const thetaDisplay = document.getElementById('thetaDisplay');
            const visualIcon = document.getElementById('visualIcon');
            const canvas = document.getElementById('decayChart');
            const ctx = canvas.getContext('2d');

            const MAX_DAYS = 14;
            const INITIAL_VALUE = 100;

            // é¸æ“‡æ¬Šæ™‚é–“åƒ¹å€¼è¡°æ¸›å…¬å¼ (æ¨¡æ“¬éç·šæ€§: Value âˆ âˆšDays)
            function calculateValue(daysLeft) {
                return INITIAL_VALUE * Math.sqrt(daysLeft / MAX_DAYS);
            }

            // Theta è¿‘ä¼¼å€¼ (æ¯æ—¥æµå¤±é‡)
            function calculateTheta(daysLeft) {
                if (daysLeft === 0) return 0;
                const todayVal = calculateValue(daysLeft);
                const tomorrowVal = calculateValue(Math.max(0, daysLeft - 1));
                return todayVal - tomorrowVal;
            }

            function drawChart(currentPassedDays) {
                const width = canvas.width;
                const height = canvas.height;
                const padding = 40;

                // æ¸…é™¤ç•«å¸ƒ
                ctx.clearRect(0, 0, width, height);

                // ç¹ªè£½æ ¼ç·š
                ctx.strokeStyle = '#E2E8F0';
                ctx.lineWidth = 1;
                ctx.setLineDash([5, 5]);
                for (let i = 0; i <= 4; i++) {
                    const y = padding + i * ((height - 2 * padding) / 4);
                    ctx.beginPath();
                    ctx.moveTo(padding, y);
                    ctx.lineTo(width - padding, y);
                    ctx.stroke();
                }
                ctx.setLineDash([]);

                // ç¹ªè£½è¡°æ¸›æ›²ç·š
                ctx.beginPath();
                ctx.strokeStyle = '#FFC947';
                ctx.lineWidth = 6;
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';

                const points = [];
                for (let dayPassed = 0; dayPassed <= MAX_DAYS; dayPassed++) {
                    const daysLeft = MAX_DAYS - dayPassed;
                    const val = calculateValue(daysLeft);
                    
                    const x = padding + (dayPassed / MAX_DAYS) * (width - 2 * padding);
                    const y = (height - padding) - (val / INITIAL_VALUE) * (height - 2 * padding);
                    points.push({x, y});

                    if (dayPassed === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.stroke();

                // ç¹ªè£½ç•¶å‰ä½ç½®çš„é»
                const currentDaysLeft = MAX_DAYS - currentPassedDays;
                const currentVal = calculateValue(currentDaysLeft);
                const currentX = padding + (currentPassedDays / MAX_DAYS) * (width - 2 * padding);
                const currentY = (height - padding) - (currentVal / INITIAL_VALUE) * (height - 2 * padding);

                // ç•«å¤§åœ“é»å¤–æ¡†
                ctx.beginPath();
                ctx.fillStyle = '#FF8A5B';
                ctx.strokeStyle = '#5C4033';
                ctx.lineWidth = 3;
                ctx.arc(currentX, currentY, 10, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();

                // åæ¨™è»¸æ¨™ç±¤
                ctx.fillStyle = '#5C4033';
                ctx.font = 'bold 14px Nunito';
                ctx.textAlign = 'center';
                ctx.fillText('è²·é€² (14å¤©)', padding, height - 10);
                ctx.fillText('åˆ°æœŸ (0å¤©)', width - padding, height - 10);
            }

            function updateUI() {
                const passedDays = parseInt(slider.value);
                const daysLeft = MAX_DAYS - passedDays;
                const val = calculateValue(daysLeft);
                const theta = calculateTheta(daysLeft);

                // æ›´æ–°æ•¸å­—
                daysDisplay.innerText = `${daysLeft} å¤©`;
                valueDisplay.innerText = `$${val.toFixed(1)}`;
                
                if (daysLeft === 0) {
                    thetaDisplay.innerText = `$0.0`;
                } else {
                    thetaDisplay.innerText = `-$${theta.toFixed(1)}`;
                }

                // æ›´æ–°è¡¨æƒ…ç¬¦è™Ÿå¤§å°èˆ‡åœ–ç¤º (å†°æ·‡æ·‹èåŒ–æˆ–èƒ¡è˜¿è””è¢«åƒæ‰)
                const scale = 0.5 + (val / INITIAL_VALUE) * 0.8;
                visualIcon.style.transform = `scale(${scale})`;
                
                if (daysLeft > 9) {
                    visualIcon.innerText = 'ğŸ¦';
                } else if (daysLeft > 4) {
                    visualIcon.innerText = 'ğŸ§'; // é–‹å§‹èåŒ–
                } else if (daysLeft > 0) {
                    visualIcon.innerText = 'ğŸ« '; // å¿«æ²’äº†
                } else {
                    visualIcon.innerText = 'ğŸ‘»'; // æ­¸é›¶è®Šæˆéˆé­‚
                }

                drawChart(passedDays);
            }

            // ç¶å®šäº‹ä»¶
            slider.addEventListener('input', updateUI);
            
            // åˆå§‹åŒ–
            updateUI();
        });
    </script>
</body>
</html>